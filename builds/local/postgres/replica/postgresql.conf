# =============================================================================
# PostgreSQL 16 - REPLICA (STANDBY) SERVER CONFIGURATION
# =============================================================================

#------------------------------------------------------------------------------
# CONNECTIONS
#------------------------------------------------------------------------------
listen_addresses = '*'
port = 5432
max_connections = 100

#------------------------------------------------------------------------------
# STANDBY SERVER
#------------------------------------------------------------------------------
# Allow read queries on replica
hot_standby = on

# How long to wait before canceling queries that conflict with WAL apply
# -1 = wait indefinitely
max_standby_streaming_delay = 30s

# How often replica reports status to primary
wal_receiver_status_interval = 10s

# Tell primary about queries running on replica
hot_standby_feedback = on

# Replication slot name on primary
primary_slot_name = 'replica_slot'

#------------------------------------------------------------------------------
# LOGGING
#------------------------------------------------------------------------------
log_destination = 'stderr'
logging_collector = off
log_line_prefix = '%t [%p]: '
log_statement = 'ddl'